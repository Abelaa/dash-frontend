"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[533],{4533:(I,u,r)=>{r.r(u),r.d(u,{AccountModule:()=>n});var h=r(6895),Z=r(1310),g=r(4633),i=r(3546),o=r(4006),t=r(4650),C=r(529);class a{getProfileDetails(){return this.http.get(this.url+"/api/users/")}updateProfileDetails(e){return this.http.patch(this.url+"/api/users/",e)}constructor(e){this.http=e,this.url="http://localhost:3000"}}a.\u0275fac=function(e){return new(e||a)(t.LFG(C.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"});var v=r(7009),d=r(4144),A=r(9549),p=r(4859);class c{constructor(e,l,m){this.formBuilder=e,this.userService=l,this.snack=m,this.profileForm=this.formBuilder.group({firstName:["",o.kI.required],lastName:["",o.kI.required],email:["",[o.kI.required,o.kI.email]],phone:["",o.kI.required],state:["",o.kI.required],city:["",o.kI.required],street:["",o.kI.required],zipCode:["",o.kI.required]}),this.userService.getProfileDetails().subscribe(y=>{this.profile=y,console.log(this.profile);let f={state:"",city:"",street:"",zipCode:"",...this.profile?.address,...this.profile};console.log(f),this.profileForm=this.formBuilder.group(f)})}updateProfile(){if(!this.profileForm.valid)return;let e=this.profileForm.value,l={...e,address:{state:e.state,city:e.city,street:e.street,zipCode:e.zipCode}};this.userService.updateProfileDetails(l).subscribe({next:m=>this.snack.open("User Account updated successfully.","Dismiss",{duration:5e3}),error:m=>this.snack.open("Error while updating account information.","Dismiss",{duration:5e3})})}}c.\u0275fac=function(e){return new(e||c)(t.Y36(o.qu),t.Y36(a),t.Y36(v.ux))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-account"]],decls:23,vars:1,consts:[[1,"profile-card"],[2,"margin-bottom","16px"],[3,"formGroup"],[1,"full-width"],["matInput","","placeholder","Fist Name","formControlName","firstName"],["matInput","","placeholder","Last Name","formControlName","lastName"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","State","formControlName","state"],["matInput","","placeholder","City","formControlName","city"],["matInput","","placeholder","Street","formControlName","street"],["matInput","","placeholder","Zip Code","formControlName","zipCode"],[2,"justify-content","center","margin-bottom","8px"],["mat-stroked-button","","color","primary",3,"click"]],template:function(e,l){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3,"My Profile"),t.qZA()(),t.TgZ(4,"mat-card-content")(5,"form",2)(6,"mat-form-field",3),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"mat-form-field",3),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"mat-form-field",3),t._UZ(11,"input",6),t.qZA(),t.TgZ(12,"mat-form-field",3),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"mat-form-field",3),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",3),t._UZ(17,"input",9),t.qZA(),t.TgZ(18,"mat-form-field",3),t._UZ(19,"input",10),t.qZA()()(),t.TgZ(20,"mat-card-actions",11)(21,"button",12),t.NdJ("click",function(){return l.updateProfile()}),t._uU(22," Save Changes "),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",l.profileForm))},dependencies:[i.a8,i.hq,i.dn,i.dk,i.n5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,d.Nt,A.KE,p.lW],styles:[".profile-card[_ngcontent-%COMP%]{width:500px;margin:20px auto;text-align:center}.full-width[_ngcontent-%COMP%]{width:100%}"]});class n{}n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.ez,Z.Bz.forChild([{path:"",component:c}]),i.QW,g.ie,o.u5,o.UX,d.c,p.ot]})}}]);